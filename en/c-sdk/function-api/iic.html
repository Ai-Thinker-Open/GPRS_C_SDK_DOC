
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>I2C · GPRS C SDK DOC</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Ai-Thinker">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="spi.html" />
    
    
    <link rel="prev" href="gps.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">introduces</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    About
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Hardware</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../../hardware/a9.html">
            
                <a href="../../hardware/a9.html">
            
                    
                    A9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../../hardware/a9g.html">
            
                <a href="../../hardware/a9g.html">
            
                    
                    A9G
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../hardware/pudding-dev-board.html">
            
                <a href="../../hardware/pudding-dev-board.html">
            
                    
                    pudding dev board
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../hardware/usb-uart-module.html">
            
                <a href="../../hardware/usb-uart-module.html">
            
                    
                    USB-UART module
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../../hardware/sim-card.html">
            
                <a href="../../hardware/sim-card.html">
            
                    
                    SIM Card
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Basic Knowledge</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../basic-knowledge/gsmgprs.html">
            
                <a href="../../basic-knowledge/gsmgprs.html">
            
                    
                    GSM/GPRS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../basic-knowledge/gps.html">
            
                <a href="../../basic-knowledge/gps.html">
            
                    
                    GNSS(GPS)
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">C SDK</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../installation.html">
            
                <a href="../installation.html">
            
                    
                    Installation Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../installation_linux.html">
            
                <a href="../installation_linux.html">
            
                    
                    Installation Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../installation_docker.html">
            
                <a href="../installation_docker.html">
            
                    
                    Installation Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../burn-debug.html">
            
                <a href="../burn-debug.html">
            
                    
                    Burn & Debug
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../first-code.html">
            
                <a href="../first-code.html">
            
                    
                    First Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="../code-style.html">
            
                <a href="../code-style.html">
            
                    
                    Code Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="../function-api.html">
            
                <a href="../function-api.html">
            
                    
                    Function & API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.7.1" data-path="gpio.html">
            
                <a href="gpio.html">
            
                    
                    GPIO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.2" data-path="adc.html">
            
                <a href="adc.html">
            
                    
                    ADC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.3" data-path="uart.html">
            
                <a href="uart.html">
            
                    
                    UART
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.4" data-path="os.html">
            
                <a href="os.html">
            
                    
                    OS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.5" data-path="imei.html">
            
                <a href="imei.html">
            
                    
                    IMEI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.6" data-path="iccid.html">
            
                <a href="iccid.html">
            
                    
                    ICCID
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.7" data-path="gps.html">
            
                <a href="gps.html">
            
                    
                    GPS
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="4.7.8" data-path="iic.html">
            
                <a href="iic.html">
            
                    
                    I2C
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.9" data-path="spi.html">
            
                <a href="spi.html">
            
                    
                    SPI
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.10" data-path="timertc.html">
            
                <a href="timertc.html">
            
                    
                    time(RTC)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.11" data-path="file-system.html">
            
                <a href="file-system.html">
            
                    
                    FS(Flash/TF Card)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.12" data-path="gprs-network.html">
            
                <a href="gprs-network.html">
            
                    
                    GPRS Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.13" data-path="dns.html">
            
                <a href="dns.html">
            
                    
                    DNS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.14" data-path="socket.html">
            
                <a href="socket.html">
            
                    
                    Socket
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.15" data-path="ssl-tls.html">
            
                <a href="ssl-tls.html">
            
                    
                    SSL/TLS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.16" data-path="mqtt.html">
            
                <a href="mqtt.html">
            
                    
                    MQTT
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.17" data-path="power-manager.html">
            
                <a href="power-manager.html">
            
                    
                    Power Manager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.18" data-path="call.html">
            
                <a href="call.html">
            
                    
                    Call
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.19" data-path="sms.html">
            
                <a href="sms.html">
            
                    
                    SMS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.20" data-path="fota.html">
            
                <a href="fota.html">
            
                    
                    FOTA
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.21" data-path="lbs.html">
            
                <a href="lbs.html">
            
                    
                    LBS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.7.22" data-path="gizwits.html">
            
                <a href="gizwits.html">
            
                    
                    Gizwits
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >I2C</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#i2c"><b> </b>I2C</a></li><ul><li><span class="title-icon "></span><a href="#macro-definition"><b>1. </b>Macro definition</a></li><ul><li><span class="title-icon "></span><a href="#i2cdefaulttimeout"><b>1.1. </b>I2C_DEFAULT_TIME_OUT</a></li></ul><li><span class="title-icon "></span><a href="#enumerated-type"><b>2. </b>Enumerated type</a></li><ul><li><span class="title-icon "></span><a href="#i2cfreqt"><b>2.1. </b>I2C_FREQ_t</a></li><li><span class="title-icon "></span><a href="#i2cerrort"><b>2.2. </b>I2C_Error_t</a></li><li><span class="title-icon "></span><a href="#i2ccmdmaskt"><b>2.3. </b>I2C_CMD_Mask_t</a></li></ul><li><span class="title-icon "></span><a href="#struct"><b>3. </b>Struct</a></li><ul><li><span class="title-icon "></span><a href="#i2cconfigt"><b>3.1. </b>I2C_Config_t</a></li></ul><li><span class="title-icon "></span><a href="#function"><b>4. </b>Function</a></li><ul><li><span class="title-icon "></span><a href="#i2cinit"><b>4.1. </b>I2C_Init</a></li><li><span class="title-icon "></span><a href="#i2ctransmit"><b>4.2. </b>I2C_Transmit</a></li><li><span class="title-icon "></span><a href="#i2creceive"><b>4.3. </b>I2C_Receive</a></li><li><span class="title-icon "></span><a href="#i2cwritemem"><b>4.4. </b>I2C_WriteMem</a></li><li><span class="title-icon "></span><a href="#i2creadmem"><b>4.5. </b>I2C_ReadMem</a></li><li><span class="title-icon "></span><a href="#i2cwriterawbyte"><b>4.6. </b>I2C_WriteRawByte</a></li><li><span class="title-icon "></span><a href="#i2creadrawbyte"><b>4.7. </b>I2C_ReadRawByte</a></li><li><span class="title-icon "></span><a href="#i2cclose"><b>4.8. </b>I2C_Close</a></li></ul></ul></ul></div><a href="#i2c" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="i2c"><a name="i2c" class="anchor-navigation-ex-anchor" href="#i2c"><i class="fa fa-link" aria-hidden="true"></i></a> I2C</h1>
<p>A9/A9G has three I2C interfaces. When using it, pay attention to which pins are multiplexed and pin view the pin diagram of pudding development board.
And open power first
Only support the master mode</p>
<p>example:<a href="https://github.com/Ai-Thinker-Open/GPRS_C_SDK/blob/master/demo/i2c/src/demo_i2c.c" target="_blank">demo/i2c</a></p>
<h2 id="macro-definition"><a name="macro-definition" class="anchor-navigation-ex-anchor" href="#macro-definition"><i class="fa fa-link" aria-hidden="true"></i></a>1. Macro definition</h2>
<h3 id="i2cdefaulttimeout"><a name="i2cdefaulttimeout" class="anchor-navigation-ex-anchor" href="#i2cdefaulttimeout"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. I2C_DEFAULT_TIME_OUT</h3>
<p>default timeout time</p>
<pre><code class="lang-c"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> I2C_DEFAULT_TIME_OUT 10 <span class="hljs-comment">//10ms</span></span>
</code></pre>
<h2 id="enumerated-type"><a name="enumerated-type" class="anchor-navigation-ex-anchor" href="#enumerated-type"><i class="fa fa-link" aria-hidden="true"></i></a>2. Enumerated type</h2>
<h4 id="i2cidt"><a name="i2cidt" class="anchor-navigation-ex-anchor" href="#i2cidt"><i class="fa fa-link" aria-hidden="true"></i></a>I2C_ID_t</h4>
<p>I2C ID</p>
<pre><code class="lang-c"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span>
{
I2C1 = <span class="hljs-number">1</span> ,
I2C2 = <span class="hljs-number">2</span> ,
I2C3 = <span class="hljs-number">3</span> ,
I2C_ID_MAX
} I2C_ID_t;
</code></pre>
<h3 id="i2cfreqt"><a name="i2cfreqt" class="anchor-navigation-ex-anchor" href="#i2cfreqt"><i class="fa fa-link" aria-hidden="true"></i></a>2.1. I2C_FREQ_t</h3>
<p>I2C frequency</p>
<pre><code class="lang-c"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span>
{
I2C_FREQ_100K,
I2C_FREQ_400K,
I2C_FREQ_MAX
} I2C_FREQ_t;
</code></pre>
<h3 id="i2cerrort"><a name="i2cerrort" class="anchor-navigation-ex-anchor" href="#i2cerrort"><i class="fa fa-link" aria-hidden="true"></i></a>2.2. I2C_Error_t</h3>
<p>I2C error information</p>
<pre><code class="lang-c"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span>{
I2C_ERROR_NONE = <span class="hljs-number">0</span> ,
<span class="hljs-comment">/// A resource reset is required</span>
I2C_ERROR_RESOURCE_RESET,
<span class="hljs-comment">/// An attempt to access a busy resource failed</span>
I2C_ERROR_RESOURCE_BUSY,
<span class="hljs-comment">/// Timeout while trying to access the resource</span>
I2C_ERROR_RESOURCE_TIMEOUT,
<span class="hljs-comment">/// An attempt to access a resource that is not enabled</span>
I2C_ERROR_RESOURCE_NOT_ENABLED,
<span class="hljs-comment">/// Invalid parameter</span>
I2C_ERROR_BAD_PARAMETER,
<span class="hljs-comment">/// Communication failure</span>
I2C_ERROR_COMMUNICATION_FAILED = <span class="hljs-number">14</span>,

I2C_ERROR_MAX
} I2C_Error_t;
</code></pre>
<h3 id="i2ccmdmaskt"><a name="i2ccmdmaskt" class="anchor-navigation-ex-anchor" href="#i2ccmdmaskt"><i class="fa fa-link" aria-hidden="true"></i></a>2.3. I2C_CMD_Mask_t</h3>
<p>The I2C flag bit, the function of the Function with <code>Raw</code></p>
<pre><code class="lang-c"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">enum</span>{
I2C_CMD_MASK_MASTER_NACK = (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">0</span>) ,
I2C_CMD_MASK_MASTER_READ = (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">4</span>) ,
I2C_CMD_MASK_MASTER_STOP = (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">8</span>) ,
I2C_CMD_MASK_MASTER_WRITE = (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">12</span>) ,
I2C_CMD_MASK_MASTER_START = (<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">16</span>) ,
I2C_CMD_MASK_MAX
} I2C_CMD_Mask_t;
</code></pre>
<h2 id="struct"><a name="struct" class="anchor-navigation-ex-anchor" href="#struct"><i class="fa fa-link" aria-hidden="true"></i></a>3. Struct</h2>
<h3 id="i2cconfigt"><a name="i2cconfigt" class="anchor-navigation-ex-anchor" href="#i2cconfigt"><i class="fa fa-link" aria-hidden="true"></i></a>3.1. I2C_Config_t</h3>
<p>I2C configuration</p>
<pre><code class="lang-c"><span class="hljs-keyword">typedef</span> <span class="hljs-keyword">struct</span>{
I2C_FREQ_t freq;
} I2C_Config_t;
</code></pre>
<h2 id="function"><a name="function" class="anchor-navigation-ex-anchor" href="#function"><i class="fa fa-link" aria-hidden="true"></i></a>4. Function</h2>
<h3 id="i2cinit"><a name="i2cinit" class="anchor-navigation-ex-anchor" href="#i2cinit"><i class="fa fa-link" aria-hidden="true"></i></a>4.1. I2C_Init</h3>
<pre><code class="lang-c"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">I2C_Init</span><span class="hljs-params">(I2C_ID_t i2c, I2C_Config_t config)</span></span>;
</code></pre>
<h4 id="function_1"><a name="function_1" class="anchor-navigation-ex-anchor" href="#function_1"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Initialize I2C</p>
<h4 id="parameters"><a name="parameters" class="anchor-navigation-ex-anchor" href="#parameters"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>config&#xFF1A;I2C initialize configuration</li>
</ul>
<h4 id="return"><a name="return" class="anchor-navigation-ex-anchor" href="#return"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Is success to config I2C</li>
</ul>
<hr>
<h3 id="i2ctransmit"><a name="i2ctransmit" class="anchor-navigation-ex-anchor" href="#i2ctransmit"><i class="fa fa-link" aria-hidden="true"></i></a>4.2. I2C_Transmit</h3>
<pre><code class="lang-c"><span class="hljs-function">I2C_Error_t <span class="hljs-title">I2C_Transmit</span><span class="hljs-params">(I2C_ID_t i2c, uint16_t slaveAddr, uint8_t* pData, uint16_t length, uint32_t timeOut)</span></span>;
</code></pre>
<h4 id="function_2"><a name="function_2" class="anchor-navigation-ex-anchor" href="#function_2"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Send data with I2C</p>
<h4 id="parameters_1"><a name="parameters_1" class="anchor-navigation-ex-anchor" href="#parameters_1"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>slaveAddr:slave address</li>
<li>pData:&#x9700;&#x8981;&#x53D1;&#x9001;&#x7684;&#x6570;&#x636E;</li>
<li>length&#xFF1A;length</li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_1"><a name="return_1" class="anchor-navigation-ex-anchor" href="#return_1"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>&#x662F;&#x5426;&#x6210;&#x529F;&#x53D1;&#x9001;&#x6570;&#x636E;</li>
</ul>
<hr>
<h3 id="i2creceive"><a name="i2creceive" class="anchor-navigation-ex-anchor" href="#i2creceive"><i class="fa fa-link" aria-hidden="true"></i></a>4.3. I2C_Receive</h3>
<pre><code class="lang-c"><span class="hljs-function">I2C_Error_t <span class="hljs-title">I2C_Receive</span><span class="hljs-params">(I2C_ID_t i2c, uint16_t slaveAddr, uint8_t* pData, uint16_t length, uint32_t timeOut)</span></span>;
</code></pre>
<h4 id="function_3"><a name="function_3" class="anchor-navigation-ex-anchor" href="#function_3"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>&#x901A;&#x8FC7;I2C&#x63A5;&#x6536;&#x6570;&#x636E;</p>
<h4 id="parameters_2"><a name="parameters_2" class="anchor-navigation-ex-anchor" href="#parameters_2"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>slaveAddr:slave address</li>
<li>pData:The location of the received data storage</li>
<li>length&#xFF1A;length</li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_2"><a name="return_2" class="anchor-navigation-ex-anchor" href="#return_2"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Whether or not to receive data successfully</li>
</ul>
<hr>
<h3 id="i2cwritemem"><a name="i2cwritemem" class="anchor-navigation-ex-anchor" href="#i2cwritemem"><i class="fa fa-link" aria-hidden="true"></i></a>4.4. I2C_WriteMem</h3>
<pre><code class="lang-c"><span class="hljs-function">I2C_Error_t <span class="hljs-title">I2C_WriteMem</span><span class="hljs-params">(I2C_ID_t i2c, uint16_t slaveAddr, uint32_t memAddr, uint8_t memSize, uint8_t* pData, uint16_t length, uint32_t timeOut)</span></span>;
</code></pre>
<h4 id="function_4"><a name="function_4" class="anchor-navigation-ex-anchor" href="#function_4"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Write slave&apos;s register</p>
<h4 id="parameters_3"><a name="parameters_3" class="anchor-navigation-ex-anchor" href="#parameters_3"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>slaveAddr:slave address</li>
<li>memAddr&#xFF1A;slave register address</li>
<li>memSize&#xFF1A;slave register address length,unit:byte, max 4</li>
<li>pData: data to write</li>
<li>length&#xFF1A;length of data to write</li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_3"><a name="return_3" class="anchor-navigation-ex-anchor" href="#return_3"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Whether the data is written successfully</li>
</ul>
<hr>
<h3 id="i2creadmem"><a name="i2creadmem" class="anchor-navigation-ex-anchor" href="#i2creadmem"><i class="fa fa-link" aria-hidden="true"></i></a>4.5. I2C_ReadMem</h3>
<pre><code class="lang-c"><span class="hljs-function">I2C_Error_t <span class="hljs-title">I2C_ReadMem</span><span class="hljs-params">(I2C_ID_t i2c, uint16_t slaveAddr, uint32_t memAddr, uint8_t memSize, uint8_t* pData, uint16_t length, uint32_t timeOut)</span></span>;
</code></pre>
<h4 id="function_5"><a name="function_5" class="anchor-navigation-ex-anchor" href="#function_5"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Read register of slave</p>
<h4 id="parameters_4"><a name="parameters_4" class="anchor-navigation-ex-anchor" href="#parameters_4"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>slaveAddr:slave address</li>
<li>memAddr&#xFF1A;slave register address</li>
<li>memSize&#xFF1A; slave register address length,unit:byte, max 4</li>
<li>pData: data read</li>
<li>length&#xFF1A;length of read data read</li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_4"><a name="return_4" class="anchor-navigation-ex-anchor" href="#return_4"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Whether the data is read successfully</li>
</ul>
<hr>
<h3 id="i2cwriterawbyte"><a name="i2cwriterawbyte" class="anchor-navigation-ex-anchor" href="#i2cwriterawbyte"><i class="fa fa-link" aria-hidden="true"></i></a>4.6. I2C_WriteRawByte</h3>
<pre><code class="lang-c"><span class="hljs-function">I2C_Error_t <span class="hljs-title">I2C_WriteRawByte</span><span class="hljs-params">(I2C_ID_t i2c, uint8_t sendByte, I2C_CMD_Mask_t cmdMask, uint32_t timeOut)</span></span>;
</code></pre>
<h4 id="function_6"><a name="function_6" class="anchor-navigation-ex-anchor" href="#function_6"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Write byte raw</p>
<h4 id="parameters_5"><a name="parameters_5" class="anchor-navigation-ex-anchor" href="#parameters_5"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>sendByte: data to send, one byte</li>
<li>cmdMask&#xFF1A;command value from <code>I2C_CMD_Mask_t</code></li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_5"><a name="return_5" class="anchor-navigation-ex-anchor" href="#return_5"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Whether the data is written successfully</li>
</ul>
<hr>
<h3 id="i2creadrawbyte"><a name="i2creadrawbyte" class="anchor-navigation-ex-anchor" href="#i2creadrawbyte"><i class="fa fa-link" aria-hidden="true"></i></a>4.7. I2C_ReadRawByte</h3>
<pre><code class="lang-c"><span class="hljs-keyword">uint8_t</span> I2C_ReadRawByte(I2C_ID_t i2c, I2C_CMD_Mask_t cmdMask, <span class="hljs-keyword">uint32_t</span> timeOut);
</code></pre>
<h4 id="function_7"><a name="function_7" class="anchor-navigation-ex-anchor" href="#function_7"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Read one byte raw</p>
<h4 id="parameters_6"><a name="parameters_6" class="anchor-navigation-ex-anchor" href="#parameters_6"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
<li>cmdMask&#xFF1A; command value from <code>I2C_CMD_Mask_t</code></li>
<li>timeOut:time out , unit: ms</li>
</ul>
<h4 id="return_6"><a name="return_6" class="anchor-navigation-ex-anchor" href="#return_6"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>the value read</li>
</ul>
<hr>
<h3 id="i2cclose"><a name="i2cclose" class="anchor-navigation-ex-anchor" href="#i2cclose"><i class="fa fa-link" aria-hidden="true"></i></a>4.8. I2C_Close</h3>
<pre><code class="lang-c"><span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">I2C_Close</span><span class="hljs-params">(I2C_ID_t i2c)</span></span>;
</code></pre>
<h4 id="function_8"><a name="function_8" class="anchor-navigation-ex-anchor" href="#function_8"><i class="fa fa-link" aria-hidden="true"></i></a>Function</h4>
<p>Close I2C</p>
<h4 id="parameters_7"><a name="parameters_7" class="anchor-navigation-ex-anchor" href="#parameters_7"><i class="fa fa-link" aria-hidden="true"></i></a>Parameters</h4>
<ul>
<li>i2c&#xFF1A;I2C ID</li>
</ul>
<h4 id="return_7"><a name="return_7" class="anchor-navigation-ex-anchor" href="#return_7"><i class="fa fa-link" aria-hidden="true"></i></a>Return</h4>
<ul>
<li>Close success or not</li>
</ul>
<hr>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="gps.html" class="navigation navigation-prev " aria-label="Previous page: GPS">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="spi.html" class="navigation navigation-next " aria-label="Next page: SPI">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"I2C","level":"4.7.8","depth":2,"next":{"title":"SPI","level":"4.7.9","depth":2,"path":"c-sdk/function-api/spi.md","ref":"c-sdk/function-api/spi.md","articles":[]},"previous":{"title":"GPS","level":"4.7.7","depth":2,"path":"c-sdk/function-api/gps.md","ref":"c-sdk/function-api/gps.md","articles":[]},"dir":"ltr"},"config":{"plugins":["github","splitter","fontsettings","-search","search-pro","edit-link","anchor-navigation-ex","sharing","my-toolbar","ga"],"root":".","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"github":{"url":"https://github.com/Ai-Thinker-Open/GPRS_C_SDK_DOC"},"splitter":{},"search-pro":{"cutWordLib":"nodejieba","defineWord":["Gitbook Use"]},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"family":"sans","size":2,"theme":"white"},"highlight":{},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":false,"pageTop":{"level1Icon":"fa fa-angle-double-right","level2Icon":"fa fa-angle-double-right","level3Icon":"fa fa-angle-double-right","showLevelIcon":true},"printLog":false,"showGoTop":true,"showLevel":true},"my-toolbar":{"buttons":[{"label":"中文","text":"中文","icon":"fa fa-language","position":"left","target":"_self","url":"https://ai-thinker-open.github.io/GPRS_C_SDK_DOC/zh/"}]},"ga":{"configuration":"auto","token":"UA-119047820-1"},"sharing":{"all":["facebook","twitter","google","instapaper","vk","weibo"],"facebook":false,"google":false,"instapaper":false,"twitter":false,"vk":false,"weibo":false},"edit-link":{"label":"","base":"https://github.com/Ai-Thinker-Open/GPRS_C_SDK_DOC/blob/en"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Ai-Thinker","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"GPRS C SDK DOC","language":"en","gitbook":"*","description":"GPRS C SDK documention"},"file":{"path":"c-sdk/function-api/iic.md","mtime":"2018-12-11T02:48:24.974Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-12-11T02:49:35.562Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-my-toolbar/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ga/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    

    </body>
</html>

